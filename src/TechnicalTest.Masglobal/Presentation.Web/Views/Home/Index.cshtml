@{
    ViewData["Title"] = "Home Page";
}

<div class="row">
    <div class="col-md-12">
        <table id="table">
            <thead>
            <tr>
                <th data-field="id">ID</th>
                <th data-field="name">Name</th>
                <th data-field="contractTypeName">Contract Type Name</th>
                <th data-field="roleName">Role</th>
                <th data-field="hourlySalary">Hourly Salary</th>
                <th data-field="monthlySalary">Monthly Salary</th>
                <th data-field="annualSalary">Annual Salary</th>
            </tr>
            </thead>
        </table>
    </div>
</div>
@section Scripts
{

    <script>
        $(document).ready(function() {
            loadDataAll();
        });

        function loadDataAll() {
            $.ajax({
                    url: '@ViewBag.UrlApi/api/employee',

                    type: "GET",
                    // Formato de datos que se espera en la respuesta
                    dataType: "json"
                }).done(function(data, textStatus, jqXHR) {
                    if (console && console.log) {
                        console.log("La solicitud se ha completado correctamente.");
                        if (data.success) {
                            loadTable(data.data);
                        }

                    }
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    if (console && console.log) {
                        console.log("La solicitud a fallado: " + textStatus);
                    }
                });
        }

        function loadData(id) {
            $.ajax({
                    url: '@ViewBag.UrlApi/api/employee?id=' + id,

                    type: "GET",
                    // Formato de datos que se espera en la respuesta
                    dataType: "json"
                }).done(function(data, textStatus, jqXHR) {
                    if (console && console.log) {
                        console.log("La solicitud se ha completado correctamente.");
                        if (data.success) {
                            loadTable(data.data);
                        }
                        
                    }
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    if (console && console.log) {
                        console.log("La solicitud a fallado: " + textStatus);
                    }
                });
        }

        function loadTable(data) {
            $('#table').bootstrapTable({
                data: data
            });
        }

    </script>

}

